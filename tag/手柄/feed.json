{
    "version": "https://jsonfeed.org/version/1",
    "title": "指尖小屋 • All posts by \"手柄\" tag",
    "description": "学习的过程大概就是学了忘,忘了学，抽空多停下来总结，不要冲的太前。",
    "home_page_url": "https://www.fasty97.top",
    "items": [
        {
            "id": "https://www.fasty97.top/2022/05/16/Unity%20InputSystem%E4%BD%BF%E7%94%A8/",
            "url": "https://www.fasty97.top/2022/05/16/Unity%20InputSystem%E4%BD%BF%E7%94%A8/",
            "title": "Unity InputSystem使用",
            "date_published": "2022-05-16T07:08:41.000Z",
            "content_html": "<blockquote>\n<p>InputSystem 是 Unity 新推出的输入管理系统。</p>\n<p>相比传统的输入系统， <code>InputSystem </code> 支持对设备拔插状态监听和自定义按键映射。</p>\n</blockquote>\n<h1 id=\"以代码的方式运行\"><a class=\"markdownIt-Anchor\" href=\"#以代码的方式运行\">#</a> 以代码的方式运行</h1>\n<h2 id=\"简单使用\"><a class=\"markdownIt-Anchor\" href=\"#简单使用\">#</a> 简单使用</h2>\n<p>以下为获取使用游戏手柄的方式。</p>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 获取最后使用的游戏手柄</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> gamePad <span class=\"token operator\">=</span> Gamepad<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// print(gamePad.name);</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">// 持续判断按键按下</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>gamePad<span class=\"token punctuation\">.</span>dpad<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">.</span>isPressed<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下 上\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token comment\">// 按下一次执行一次</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>gamePad<span class=\"token punctuation\">.</span>dpad<span class=\"token punctuation\">.</span>up<span class=\"token punctuation\">.</span>wasPressedThisFrame<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按 上\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">// 获取左摇杆的值</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>move <span class=\"token operator\">=</span> gamePad<span class=\"token punctuation\">.</span>leftStick<span class=\"token punctuation\">.</span><span class=\"token function\">ReadValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>同理可以获取键盘和鼠标的输入：</p>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 获取当前的键盘</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> keyboard <span class=\"token operator\">=</span> Keyboard<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"键盘：\"</span> <span class=\"token operator\">+</span> keyboard<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>keyboard<span class=\"token punctuation\">.</span>kKey<span class=\"token punctuation\">.</span>wasPressedThisFrame<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下K\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">// 获取当前的鼠标</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> mouse <span class=\"token operator\">=</span> Mouse<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mouse<span class=\"token punctuation\">.</span>leftButton<span class=\"token punctuation\">.</span>wasPressedThisFrame<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"点击鼠标左键\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// 兼容多个输入</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>gamepad<span class=\"token punctuation\">.</span>aButton<span class=\"token punctuation\">.</span>wasPressedThisFrame <span class=\"token operator\">||</span> keyboard<span class=\"token punctuation\">.</span>jKey<span class=\"token punctuation\">.</span>wasPressedThisFrame<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"攻击\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"获取连接设备\"><a class=\"markdownIt-Anchor\" href=\"#获取连接设备\">#</a> 获取连接设备</h2>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 所有连接的游戏手柄</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> all <span class=\"token operator\">=</span> Gamepad<span class=\"token punctuation\">.</span>all<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> allGamepad <span class=\"token operator\">=</span> InputSystem<span class=\"token punctuation\">.</span>devices<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x <span class=\"token keyword\">is</span> <span class=\"token class-name\">Gamepad</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"监听设备改变事件\"><a class=\"markdownIt-Anchor\" href=\"#监听设备改变事件\">#</a> 监听设备改变事件</h2>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>InputSystem<span class=\"token punctuation\">.</span>onDeviceChange <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> change<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token keyword\">case</span> InputDeviceChange<span class=\"token punctuation\">.</span>Added<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"新设备加入\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token keyword\">case</span> InputDeviceChange<span class=\"token punctuation\">.</span>Disconnected<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"设备断开\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token keyword\">case</span> InputDeviceChange<span class=\"token punctuation\">.</span>Reconnected<span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"重新连接\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h1 id=\"inputactionasset映射\"><a class=\"markdownIt-Anchor\" href=\"#inputactionasset映射\">#</a> InputActionAsset 映射</h1>\n<blockquote>\n<p>通过输入信号指定 -&gt; 输入行为</p>\n<p>可以通过不同的输入信号 比如鼠标左右键 键盘 WASD 键 而这些输入信号又可以来自于不同的输入设备 比如鼠标 键盘 通过 InputSystem 各种输入设备可以无缝切换。</p>\n<p>也就是说 <strong>输入设备绑定了各种输入信号 而输入信号触发了输入动作</strong></p>\n</blockquote>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517014535.png\" alt=\"\"></p>\n<h2 id=\"actionmaps动作表\"><a class=\"markdownIt-Anchor\" href=\"#actionmaps动作表\">#</a> ActionMaps (动作表)</h2>\n<blockquote>\n<p>动作表表示一套输入动作，可以同时拥有多个动作表，并切换使用</p>\n</blockquote>\n<p>注：指定动作表的 <code>Scheme</code>  来指定该动作表可以使用的游戏控制器</p>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517021443.png\" alt=\"image-20220517021443591\"></p>\n<p>使用多个动作表可以分离输入和动作，即使在动作表中存在一致的输入也不会冲突。</p>\n<p>Ps：玩家控制时使用 PlayerController 动作表、控制 UI 时使用 UI 动作表</p>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517015115.png\" alt=\"image-20220517015113956\"></p>\n<h3 id=\"actiontype\"><a class=\"markdownIt-Anchor\" href=\"#actiontype\">#</a> ActionType</h3>\n<p>其中 Value 指代各种连续变化的输入，比如鼠标移动，摇杆偏移，手柄扳机等，但这个选项只会获取当前受控制的一个设备输入。</p>\n<p>Button 则表示按钮输入，无论是鼠标按钮或是手柄按钮，其输入结果为布尔型。</p>\n<p>PassThrough 和 Value 基本相同，但它可以获取所有可用输入设备的输入。</p>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517015834.png\" alt=\"image-20220517015834087\"></p>\n<h3 id=\"controltype\"><a class=\"markdownIt-Anchor\" href=\"#controltype\">#</a> ControlType</h3>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517020054.png\" alt=\"image-20220517020054781\"></p>\n<p>生成 C# 类：</p>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517021932.png\" alt=\"image-20220517021932810\"></p>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"><span>全代码控制</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GameInput</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">MonoBehaviour</span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PlayerControls</span> playerControls<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Rigidbody</span> rigidbody<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnEnable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        playerControls<span class=\"token punctuation\">?.</span><span class=\"token function\">Enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnDisable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        playerControls<span class=\"token punctuation\">?.</span><span class=\"token function\">Disable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        playerControls<span class=\"token punctuation\">?.</span><span class=\"token function\">Dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Awake</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        playerControls <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">PlayerControls</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        rigidbody <span class=\"token operator\">=</span> <span class=\"token generic-method\"><span class=\"token function\">GetComponent</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>Rigidbody<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Vector2</span> moveDir<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Jump<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"跃动\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            rigidbody<span class=\"token punctuation\">.</span><span class=\"token function\">AddForce</span><span class=\"token punctuation\">(</span>Vector3<span class=\"token punctuation\">.</span>up <span class=\"token operator\">*</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Attack1<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"攻击\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Dpd<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下上键\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Start<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下start\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Select<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下Select\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>L<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下L\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>LShouder<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"按下左肩键\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Spell<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"连按触发\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Spell2<span class=\"token punctuation\">.</span>performed <span class=\"token operator\">+=</span> x <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"触发组合键\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>        moveDir <span class=\"token operator\">=</span> playerControls<span class=\"token punctuation\">.</span>PlayerMap<span class=\"token punctuation\">.</span>Move<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">ReadValue</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>Vector2<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Time<span class=\"token punctuation\">.</span>deltaTime <span class=\"token operator\">*</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>        transform<span class=\"token punctuation\">.</span><span class=\"token function\">Translate</span><span class=\"token punctuation\">(</span>moveDir<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> moveDir<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"https://pic.fasty97.top/NotePad/20220517044539.png\" alt=\"image-20220517044539871\"></p>\n<h1 id=\"在移动设备中使用\"><a class=\"markdownIt-Anchor\" href=\"#在移动设备中使用\">#</a> 在移动设备中使用</h1>\n<blockquote>\n<p>在移动设备中，我们希望能处理操作轴和按钮两种输入事件。</p>\n<p>在 unity 官方 demo 中，提出了相关的解决方案。</p>\n</blockquote>\n<h1 id=\"在ui中使用\"><a class=\"markdownIt-Anchor\" href=\"#在ui中使用\">#</a> 在 UI 中使用</h1>\n<blockquote>\n<p>经过测试在 Ui 中和之前的使用没啥区别，唯一就是要把 EventSystem 的组件更改一下。</p>\n<p>同时之前的 Ipoint 系列接口也能够正常使用。</p>\n</blockquote>\n<p><img data-src=\"https://pic.fasty97.top/NotePad/20220517052201.png\" alt=\"image-20220517052201158\"></p>\n",
            "tags": [
                "输入系统",
                "手柄"
            ]
        }
    ]
}