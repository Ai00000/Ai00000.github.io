{
    "version": "https://jsonfeed.org/version/1",
    "title": "指尖小屋 • All posts by \"ugui\" category",
    "description": "学习的过程大概就是学了忘,忘了学，抽空多停下来总结，不要冲的太前。",
    "home_page_url": "https://www.fasty97.top",
    "items": [
        {
            "id": "https://www.fasty97.top/2022/09/21/Unity2D-%E5%A4%9A%E8%BE%B9%E5%BD%A2%E6%A3%80%E6%B5%8B/",
            "url": "https://www.fasty97.top/2022/09/21/Unity2D-%E5%A4%9A%E8%BE%B9%E5%BD%A2%E6%A3%80%E6%B5%8B/",
            "title": "Unity2D-UGUI多边形检测",
            "date_published": "2022-09-21T01:26:45.000Z",
            "content_html": "<h2 id=\"polygoncollider2d\"><a class=\"markdownIt-Anchor\" href=\"#polygoncollider2d\">#</a> PolygonCollider2D</h2>\n<p>PolygonCollider2D 是 Unity 用于多边形检测的组件，可以进行不规则 UI、2d 对象的射线检测。</p>\n<p>为 UI 对象添加如下脚本：</p>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomImage</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">Image</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PolygonCollider2D</span> _polygon<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\">PolygonCollider2D</span> Polygon</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token keyword\">get</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_polygon <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>                _polygon <span class=\"token operator\">=</span> <span class=\"token generic-method\"><span class=\"token function\">GetComponent</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>PolygonCollider2D<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre> </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token keyword\">return</span> _polygon<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span>   </pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre> </pre></td></tr><tr><td data-num=\"16\"></td><td><pre> </pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> <span class=\"token function\">IsRaycastLocationValid</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Vector2</span> screenPoint<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Camera</span> eventCamera<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token class-name\">Vector3</span> point<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        RectTransformUtility<span class=\"token punctuation\">.</span><span class=\"token function\">ScreenPointToWorldPointInRectangle</span><span class=\"token punctuation\">(</span>rectTransform<span class=\"token punctuation\">,</span> screenPoint<span class=\"token punctuation\">,</span> eventCamera<span class=\"token punctuation\">,</span> <span class=\"token keyword\">out</span> point<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">return</span> Polygon<span class=\"token punctuation\">.</span><span class=\"token function\">OverlapPoint</span><span class=\"token punctuation\">(</span>point<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>并将 Button 组件的 source 设置为上面的脚本即可。</p>\n<h2 id=\"参考文章\"><a class=\"markdownIt-Anchor\" href=\"#参考文章\">#</a> 参考文章</h2>\n<ol>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2RlbmdzaHVuaGFvL2FydGljbGUvZGV0YWlscy8xMDMwMzIxNDc=\"> Unity UGUI 学习系列 (二) ------ PolygonCollider2D 实现不规则碰撞范围_千喜的博客 - CSDN 博客</span></li>\n</ol>\n",
            "tags": [
                "ui",
                "不规则检测"
            ]
        }
    ]
}