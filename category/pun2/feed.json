{
    "version": "https://jsonfeed.org/version/1",
    "title": "指尖小屋 • All posts by \"pun2\" category",
    "description": "学习的过程大概就是学了忘,忘了学，抽空多停下来总结，不要冲的太前。",
    "home_page_url": "https://www.fasty97.top",
    "items": [
        {
            "id": "https://www.fasty97.top/2021/04/29/PUN2%EF%BC%88%E4%BA%8C%EF%BC%89%E5%AF%B9%E8%B1%A1%E5%90%8C%E6%AD%A5/",
            "url": "https://www.fasty97.top/2021/04/29/PUN2%EF%BC%88%E4%BA%8C%EF%BC%89%E5%AF%B9%E8%B1%A1%E5%90%8C%E6%AD%A5/",
            "title": "PUN2（二）对象同步",
            "date_published": "2021-04-29T06:58:33.000Z",
            "content_html": "<blockquote>\n<p>对象同步是多人在线游戏的核心在 Pun 中使用 Photon View 组件来同步对象</p>\n</blockquote>\n<h2 id=\"创建同步对象\"><a class=\"markdownIt-Anchor\" href=\"#创建同步对象\">#</a> 创建同步对象</h2>\n<p>创建一个胶囊体，并为其添加 <code>Photon View</code> ， <code>Photon Transform View</code> 、 <code>Photon Rigidbody View</code>  组件使其监听。</p>\n<img data-src=\"https://pic.fasty97.top/NotePad/20210429151825.png\" alt=\"image-20210429151825946\"  />\n<center>Photon View</center>\n<h2 id=\"连接同步\"><a class=\"markdownIt-Anchor\" href=\"#连接同步\">#</a> 连接同步</h2>\n",
            "tags": [
                "unity"
            ]
        },
        {
            "id": "https://www.fasty97.top/2021/03/09/PUN%EF%BC%88%E4%B8%80%EF%BC%89%E5%89%8D%E7%BD%AE%E5%87%86%E5%A4%87/",
            "url": "https://www.fasty97.top/2021/03/09/PUN%EF%BC%88%E4%B8%80%EF%BC%89%E5%89%8D%E7%BD%AE%E5%87%86%E5%A4%87/",
            "title": "PUN2（一）前置准备",
            "date_published": "2021-03-09T02:07:15.000Z",
            "content_html": "<h2 id=\"创建app\"><a class=\"markdownIt-Anchor\" href=\"#创建app\">#</a> 创建 APP</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGhvdG9uZW5naW5lLmNvbS8=\">photo 光子服务器官网</span></p>\n<p>在 photo 官网注册后，进入面板，创建一个新 APP，类型选择 PUN</p>\n<p><img data-src=\"http://pic.fasty97.top/NotePad/20210310100355.png\" alt=\"photo\"></p>\n<p>记录下新创建 App 的 App ID</p>\n<p><img data-src=\"http://pic.fasty97.top/NotePad/20210310100925.png\" alt=\"image-20210310100925155\"></p>\n<h2 id=\"下载导入unity-pun\"><a class=\"markdownIt-Anchor\" href=\"#下载导入unity-pun\">#</a> 下载导入 Unity PUN</h2>\n<p><img data-src=\"http://pic.fasty97.top/NotePad/20210310101044.png\" alt=\"image-20210310101044859\"></p>\n<p><img data-src=\"http://pic.fasty97.top/NotePad/20210310101241.png\" alt=\"image-20210310101241690\"></p>\n<h2 id=\"连接到服务器\"><a class=\"markdownIt-Anchor\" href=\"#连接到服务器\">#</a> 连接到服务器</h2>\n<p>使用 <code>PhotonNetwork.ConnectUsingSettings();</code>  来连接到服务器</p>\n<p>可以通过继承 <code>MonoBehaviourPunCallbacks</code>  类来实现连接相关的回调。</p>\n<h3 id=\"简单的连接示例\"><a class=\"markdownIt-Anchor\" href=\"#简单的连接示例\">#</a> 简单的连接示例</h3>\n<figure class=\"highlight csharp\"><figcaption data-lang=\"C#\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">Photon<span class=\"token punctuation\">.</span>Pun</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">Photon<span class=\"token punctuation\">.</span>Realtime</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">namespace</span> <span class=\"token namespace\">PUNTest</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PunLink</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">MonoBehaviourPunCallbacks</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Awake</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token comment\">// 同步场景</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            PhotonNetwork<span class=\"token punctuation\">.</span>AutomaticallySyncScene <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token comment\">// 使用设置连接</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>            PhotonNetwork<span class=\"token punctuation\">.</span><span class=\"token function\">ConnectUsingSettings</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>            Debug<span class=\"token punctuation\">.</span><span class=\"token function\">Log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"开始连接...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnConnected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>            Debug<span class=\"token punctuation\">.</span><span class=\"token function\">Log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"已连接到服务器\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">// 连接到主机</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnConnectedToMaster</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>            <span class=\"token comment\">// 加入房间</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            PhotonNetwork<span class=\"token punctuation\">.</span><span class=\"token function\">JoinOrCreateRoom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"room\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">RoomOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>MaxPlayers <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>TypedLobby<span class=\"token punctuation\">.</span>Default<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            Debug<span class=\"token punctuation\">.</span><span class=\"token function\">Log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"开始加入房间\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">OnJoinedRoom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>            Debug<span class=\"token punctuation\">.</span><span class=\"token function\">Log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"已加入房间\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><img data-src=\"http://pic.fasty97.top/NotePad/20210310110333.gif\" alt=\"ani\"></p>\n<center>效果图</center>",
            "tags": [
                "unity"
            ]
        }
    ]
}