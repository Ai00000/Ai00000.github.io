{
    "version": "https://jsonfeed.org/version/1",
    "title": "指尖小屋 • All posts by \"python\" category",
    "description": "学习的过程大概就是学了忘,忘了学，抽空多停下来总结，不要冲的太前。",
    "home_page_url": "https://www.fasty97.top",
    "items": [
        {
            "id": "https://www.fasty97.top/2021/02/22/python%E8%BF%9E%E6%8E%A5Mysql/",
            "url": "https://www.fasty97.top/2021/02/22/python%E8%BF%9E%E6%8E%A5Mysql/",
            "title": "python连接Mysql",
            "date_published": "2021-02-22T01:16:48.000Z",
            "content_html": "<blockquote>\n<p>python 3.x 开始需要下载安装 <code>PyMySQL</code></p>\n</blockquote>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> pymysql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>ip <span class=\"token operator\">=</span> <span class=\"token string\">'localhost'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>user <span class=\"token operator\">=</span> <span class=\"token string\">'root'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>password <span class=\"token operator\">=</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>db <span class=\"token operator\">=</span> <span class=\"token string\">'spr'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'开始连接~'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\"># 打开数据库连接</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    con <span class=\"token operator\">=</span> pymysql<span class=\"token punctuation\">.</span>connect<span class=\"token punctuation\">(</span>host<span class=\"token operator\">=</span>ip<span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">3306</span><span class=\"token punctuation\">,</span> user<span class=\"token operator\">=</span>user<span class=\"token punctuation\">,</span> passwd<span class=\"token operator\">=</span>password<span class=\"token punctuation\">,</span> db<span class=\"token operator\">=</span>db<span class=\"token punctuation\">,</span> charset<span class=\"token operator\">=</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token comment\"># 游标对象</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    cur <span class=\"token operator\">=</span> con<span class=\"token punctuation\">.</span>cursor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\"># 执行 sql</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    cur<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token string\">'select * from food'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    res <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">.</span>fetchall<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token comment\"># 插入</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    sql <span class=\"token operator\">=</span> <span class=\"token string\">\"insert into food (fName,fDesc) values('%s','%s')\"</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    data <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'小西瓜'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'一毛一个'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    cur<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>sql <span class=\"token operator\">%</span> data<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    con<span class=\"token punctuation\">.</span>commit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'成功插入'</span><span class=\"token punctuation\">,</span> cur<span class=\"token punctuation\">.</span>rowcount<span class=\"token punctuation\">,</span> <span class=\"token string\">'条数据'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token comment\"># 关闭连接</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    con<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": []
        }
    ]
}